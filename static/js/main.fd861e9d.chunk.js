(this.webpackJsonpproyecto4=this.webpackJsonpproyecto4||[]).push([[0],[,,,,,function(e,t,n){e.exports={main:"main_main__3UHx_",container:"main_container__1pMdY",info:"main_info__pIhkp",text:"main_text__2VkEm",button:"main_button__3tone",amountProducts:"main_amountProducts__3R9R6",active:"main_active__1GZwy",inactive:"main_inactive__3ZSkN",arrows:"main_arrows__2l1ib",stopScrolling:"main_stopScrolling__2VeI7"}},function(e,t,n){e.exports={product:"product_product__2NOoo",container:"product_container__1kYgM",photo:"product_photo__3x83b",description:"product_description__3d_-z",category:"product_category__7YLIZ",name:"product_name__31N-x",invisible:"product_invisible__1AIL4",bag:"product_bag__2eX-3",invisibleBag:"product_invisibleBag__3mCK7",visibleBag:"product_visibleBag__2ffKc",neededPoints:"product_neededPoints__waNvu"}},,,,,function(e,t,n){e.exports={main:"header_main__cPIMW",header:"header_header__2yRz-",logo:"header_logo__yOXwv",button:"header_button__3-Q3Q",info:"header_info__3sZqO",points:"header_points__126V-",background:"header_background__2dEwq",title:"header_title__2fFv5"}},function(e,t,n){e.exports={redeemMessage:"redeemMessage_redeemMessage__1SWE_",redeemFlex:"redeemMessage_redeemFlex__2Tf7v",container:"redeemMessage_container__3xjVE",succesfully:"redeemMessage_succesfully__2NcUU",error:"redeemMessage_error__PQHUd",happy:"redeemMessage_happy__2EVmq",success:"redeemMessage_success__WHodT",text:"redeemMessage_text__3dTSd",successButton:"redeemMessage_successButton__25U4r",errorButton:"redeemMessage_errorButton___9Uhg"}},,function(e,t,n){e.exports={history:"historyProduct_history__1blrb",photo:"historyProduct_photo__1mJ_W",description:"historyProduct_description__-yYFR",price:"historyProduct_price__1qfld",name:"historyProduct_name__vSd56",category:"historyProduct_category__3l5DJ"}},,,function(e,t,n){e.exports={adminDiv:"admin_adminDiv__3k9yv",close:"admin_close__2DlMM",adminFlex:"admin_adminFlex__1JYro",enter:"admin_enter__1K80X"}},function(e,t,n){e.exports={text:"hover_text__iyNnG",hoverProduct:"hover_hoverProduct__1Q1f_",hoverFlex:"hover_hoverFlex__1jCCJ",priceContainer:"hover_priceContainer__2XCbg",price:"hover_price__319NE",button:"hover_button__3lnSH"}},function(e,t,n){e.exports={adminDiv:"login_adminDiv__27XNu",close:"login_close__3XEOW",adminFlex:"login_adminFlex__qzD0b",login:"login_login__3K7_A"}},function(e,t,n){e.exports={input:"input_input__3bBbV",label:"input_label__156Tp",wrapper:"input_wrapper__1yO1I",value:"input_value__12RoS"}},function(e,t,n){e.exports={container:"history_container__1Afjx",aside:"history_aside__2YyBg",products:"history_products__3NYMN"}},,,function(e,t,n){e.exports={button:"button_button__JF0SC",primary:"button_primary__rZHav",secondary:"button_secondary__Rb8rD",terciary:"button_terciary__37pvu",close:"button_close__1y2c6"}},,,,,function(e,t,n){},function(e,t,n){e.exports={results:"results_results__3UqpT"}},,,function(e,t,n){},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(33);var c=n(1),a=n.n(c),r=n(28),s=n.n(r),i=n(31),o=n(3),u=n(5),l=n.n(u),d=n(2),j=n(11),b=n.n(j),m=n.p+"static/media/aerolab-logo.0a8fb170.svg",_=n.p+"static/media/coin.b8bc711d.svg",p=n(7),h=n.n(p),x=n(13),O="https://coding-challenge-api.aerolab.co/",v={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGY4MjhjNDY3Mjk2ZTAwMTk5NjQxNDMiLCJpYXQiOjE2MjY4NzYxMDB9.mp2rZY8FWyasC5P0xWvPyttcZXBpTk-JwCZ-yUawxVw"},f=function(){var e=Object(x.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O+"user/me",{headers:v});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),g=n(0),y=Object(c.createContext)();function N(e){var t=e.children,n=Object(c.useState)({}),a=Object(d.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)([]),o=Object(d.a)(i,2),u=o[0],l=o[1],j=Object(c.useState)(0),b=Object(d.a)(j,2),m=b[0],_=b[1],p=Object(c.useState)(),h=Object(d.a)(p,2),x=h[0],O=h[1],v=Object(c.useState)(!1),f=Object(d.a)(v,2),N=f[0],w=f[1],C=Object(c.useState)(!1),S=Object(d.a)(C,2),k=S[0],M=S[1],P=Object(c.useState)(!1),E=Object(d.a)(P,2),F=E[0],R=E[1],B=Object(c.useState)(!1),I=Object(d.a)(B,2),A=I[0],U=I[1];return Object(g.jsx)(y.Provider,{value:{user:r,setUser:s,products:u,setProducts:l,currentPage:m,setCurrentPage:_,currentFilter:x,setCurrentFilter:O,redeemedProduct:N,setRedeemedProduct:w,isError:k,setIsError:M,showRedeemMessage:F,setShowRedeemMessage:R,showHistory:A,setShowHistory:U},children:t})}var w=n(15),C=n.n(w),S=function(){var e=Object(x.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O+"user/points",{headers:v,method:"POST",body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();S.propTypes={bodyData:C.a.number};var k=n(19),M=n.n(k),P=n(20),E=n.n(P),F=function(e){var t=e.className,n=e.icon,c=e.label,a=e.name,r=e.onChange,s=e.placeholder,i=e.type,o=void 0===i?"text":i,u=e.value;return Object(g.jsxs)("div",{className:"".concat(t," ").concat(E.a.input),children:[c&&Object(g.jsx)("label",{className:E.a.label,htmlFor:a,children:c}),Object(g.jsxs)("div",{className:E.a.wrapper,children:[n&&Object(g.jsx)("img",{src:n.src,alt:n.alt}),Object(g.jsx)("input",{id:a,className:E.a.value,name:a,onChange:r,placeholder:s,type:o,value:u})]})]})},R=n(24),B=n.n(R),I=function(e){var t=e.className,n=e.onClick,c=e.content,a=e.variant,r=void 0===a?"primary":a;return Object(g.jsx)("button",{className:"".concat(t," ").concat(B.a[r]," ").concat(B.a.button),onClick:n,children:c})},A=function(e){var t=e.setAdminMode,n=e.setLoginAdmin,a=Object(c.useState)(""),r=Object(d.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)(""),u=Object(d.a)(o,2),l=u[0],j=u[1];return Object(g.jsxs)("div",{className:M.a.adminDiv,children:[Object(g.jsx)(I,{content:"X",name:"close",variant:"close",className:M.a.close,onClick:function(){return n(!1)}}),Object(g.jsxs)("div",{className:M.a.adminFlex,children:[Object(g.jsx)(F,{label:"Usuario",name:"user",value:s,onChange:function(e){var t=e.target;return i(t.value)}}),Object(g.jsx)(F,{label:"Contrase\xf1a",name:"password",value:l,onChange:function(e){var t=e.target;return j(t.value)},type:"password"}),Object(g.jsx)(I,{className:M.a.login,onClick:function(){"admin"===s&&"admin"===l?(t(!0),n(!1)):(alert("Usuario/Contrase\xf1a incorrecta/s"),n(!1))},content:"Iniciar sesion"})]})]})},U=n(17),D=n.n(U),J=function(e){var t=e.setAddPoints,n=e.setAdminMode;return Object(g.jsxs)("div",{className:D.a.adminDiv,children:[Object(g.jsx)(I,{content:"X",name:"close",variant:"close",className:D.a.close,onClick:function(){return n(!1)}}),Object(g.jsxs)("div",{className:D.a.adminFlex,children:[Object(g.jsx)(I,{className:D.a.enter,onClick:function(){return t(1e3)+n(!1)},content:"Agregar 1000 puntos"}),Object(g.jsx)(I,{className:D.a.enter,onClick:function(){return t(5e3)+n(!1)},content:"Agregar 5000 puntos"}),Object(g.jsx)(I,{className:D.a.enter,onClick:function(){return t(7500)+n(!1)},content:"Agregar 7500 puntos"})]})]})},H=function(e){var t=e.background,n=Object(c.useContext)(y),a=n.user,r=n.setUser,s=n.redeemedProduct,i=n.setShowHistory,o=Object(c.useState)(!1),u=Object(d.a)(o,2),l=u[0],j=u[1],p=Object(c.useState)(),h=Object(d.a)(p,2),x=h[0],O=h[1],v=Object(c.useState)(!1),N=Object(d.a)(v,2),w=N[0],C=N[1],k=Object(c.useState)(0),M=Object(d.a)(k,2),P=M[0],E=M[1];Object(c.useEffect)((function(){f().then((function(e){return r(e)})).then((function(){return O(a.points)}))}),[P,a.name,a.points,s]),Object(c.useEffect)((function(){if(1e3===P){S({amount:1e3}).then((function(){return E(0)}))}else if(5e3===P){S({amount:5e3}).then((function(){return E(0)}))}else if(7500===P){S({amount:7500}).then((function(){return E(0)}))}}),[P]);return Object(c.useEffect)((function(){!0===l&&C(!1)}),[l,w]),Object(g.jsxs)("header",{className:b.a.main,children:[Object(g.jsxs)("div",{className:b.a.header,children:[Object(g.jsx)("img",{src:m,className:b.a.logo}),Object(g.jsx)(I,{content:"Admin mode",variant:"primary",className:"".concat(b.a.button),onClick:function(){w?C(!1):!1===w&&C(!0)}}),Object(g.jsx)(I,{content:"Redeem history",variant:"primary",className:"".concat(b.a.button),onClick:function(){return i(!0)+C(!1)}}),Object(g.jsxs)("div",{className:b.a.info,children:[Object(g.jsx)("p",{className:b.a.user,children:a.name}),Object(g.jsxs)("div",{className:b.a.points,children:[Object(g.jsx)("p",{children:x}),Object(g.jsx)("img",{src:_,className:b.a.coin})]})]})]}),Object(g.jsx)("img",{src:t,className:b.a.background}),Object(g.jsx)("h1",{className:b.a.title,children:"Electronics"}),w&&Object(g.jsx)(A,{setAdminMode:j,setLoginAdmin:C}),l&&Object(g.jsx)(J,{setAdminMode:j,setAddPoints:E})]})},T=n(29),Y=n.n(T),X=function(e){var t=e.children,n=e.className,a=e.id,r=e.background;return Object(g.jsxs)(c.Fragment,{children:[Object(g.jsx)(H,{background:r}),Object(g.jsx)("main",{id:a,className:"".concat(n," ").concat(Y.a.body),children:t})]})},W=n.p+"static/media/header-x1.b6f067c6.png",V=n.p+"static/media/header-x2.cc65119a.png",Z=n(6),L=n.n(Z),Q=n(18),q=n.n(Q),z=function(){var e=Object(x.a)(h.a.mark((function e(t,n){var c,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={productId:t},e.prev=1,e.next=4,fetch(O+"redeem",{headers:v,method:"POST",body:JSON.stringify(c)});case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.next=10,n(!1);case 10:return e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(1),n(!0),console.log(e.t0);case 17:return e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}();z.propTypes={redeemId:C.a.string};var G=function(e){var t=e.price,n=e.coin,a=e.id,r=Object(c.useContext)(y),s=r.setRedeemedProduct,i=r.setShowRedeemMessage,o=r.setIsError,u=r.user,l=Object(c.useState)(""),j=Object(d.a)(l,2),b=j[0],m=j[1];return Object(c.useEffect)((function(){b===a&&u.points>=t&&z(b,o).then((function(){return s(!1)})).then((function(){return m(0)})).then((function(){return i(!0)}))}),[b]),Object(g.jsx)("div",{className:q.a.hoverProduct,children:Object(g.jsxs)("div",{className:q.a.hoverFlex,children:[Object(g.jsxs)("div",{className:q.a.priceContainer,children:[Object(g.jsx)("p",{className:q.a.price,children:t}),Object(g.jsx)("img",{src:n})]}),Object(g.jsx)(I,{content:"Redeem now!",variant:"terciary",className:"".concat(q.a.button," "),onClick:function(){return m(a)+s(!0)}})]})})},K=n.p+"static/media/buy-blue.c5c4f01c.svg",$=n.p+"static/media/buy-white.9b6e6567.svg",ee=function(e){var t=e.url,n=e.name,a=e.category,r=e.index,s=e.price,i=e.id,o=Object(c.useContext)(y),u=o.currentPage,l=o.user,j=Object(c.useState)(),b=Object(d.a)(j,2),m=b[0],p=b[1],h=function(e){p(e)};return Object(g.jsxs)("div",{className:"".concat(L.a.product," ").concat((0===u?r<16:r>=16)?L.a.visible:L.a.invisible),onMouseOver:function(){return h(!0)},onMouseLeave:function(){return h(!1)},children:[Object(g.jsxs)("div",{className:L.a.container,children:[m&&Object(g.jsx)(G,{price:s,coin:_,id:i}),l.points>=s?Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{src:K,className:"".concat(L.a.bag," ").concat(m?L.a.invisibleBag:L.a.visibleBag)}),Object(g.jsx)("img",{src:$,className:"".concat(L.a.bag," ").concat(m?L.a.visibleBag:L.a.invisibleBag)})]}):Object(g.jsxs)("div",{className:L.a.neededPoints,children:[Object(g.jsxs)("p",{className:L.a.text,children:["You need ",s-l.points]}),Object(g.jsx)("img",{src:_})]}),Object(g.jsx)("img",{className:L.a.photo,src:t,alt:"producto"})]}),Object(g.jsxs)("div",{className:L.a.description,children:[Object(g.jsx)("h4",{className:L.a.category,children:a}),Object(g.jsx)("h4",{className:L.a.name,children:n})]})]})},te=function(){var e=Object(x.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O+"products",{headers:v});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ne=n(30),ce=n.n(ne),ae=function(){var e=Object(c.useContext)(y),t=e.products,n=e.setProducts,a=e.currentFilter,r=e.setCurrentFilter,s=Object(c.useState)(),i=Object(d.a)(s,2),o=i[0],u=i[1];return Object(c.useEffect)((function(){te().then((function(e){return n(e)})).then(r(3))}),[]),Object(c.useEffect)((function(){u((function(){return t.map((function(e,t){return Object(g.jsx)(ee,{url:e.img.hdUrl,name:e.name,category:e.category,index:t,price:e.cost,id:e._id},t)}))}))}),[a,t]),Object(g.jsx)("section",{className:ce.a.results,children:o})},re=n(12),se=n.n(re),ie=n.p+"static/media/happy.021689e4.svg",oe=n.p+"static/media/sad-face.dae19aea.svg",ue=function(){var e=Object(c.useContext)(y),t=e.setShowRedeemMessage,n=e.isError,a=e.setIsError;return Object(g.jsx)("div",{className:"".concat(se.a.redeemMessage," "),style:{height:window.innerHeight,width:window.innerWidth},children:Object(g.jsx)("div",{className:se.a.redeemFlex,style:{height:window.innerHeight,width:window.innerWidth},children:Object(g.jsxs)("div",{className:"".concat(se.a.container," ").concat(n?se.a.error:se.a.succesfully),children:[Object(g.jsx)("img",{src:n?oe:ie,className:se.a.happy}),Object(g.jsx)("h1",{className:se.a.success,children:n?"ERROR!":"SUCCESS!"}),Object(g.jsx)("p",{className:se.a.text,children:n?"Something went wrong, please try again":"Congratulations, you have redeemed your item succesfully!"}),Object(g.jsx)(I,{content:n?"Try again":"Accept",variant:"terciary",className:"".concat(n?se.a.errorButton:se.a.successButton),onClick:function(){t(!1),n&&a(!1)}})]})})})},le=function(){var e=Object(x.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O+"user/history",{headers:v});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),de=n(14),je=n.n(de),be=function(e){var t=e.url,n=e.category,c=e.name,a=e.price,r=e.dateRedeem.substr(0,10);return Object(g.jsxs)("div",{className:je.a.history,children:[Object(g.jsx)("img",{className:je.a.photo,src:t,alt:"producto"}),Object(g.jsxs)("div",{className:je.a.description,children:[Object(g.jsx)("h4",{className:je.a.category,children:n}),Object(g.jsx)("h4",{className:je.a.name,children:c}),Object(g.jsxs)("h4",{className:je.a.price,children:["Price:",a,Object(g.jsx)("img",{src:_,className:je.a.coin})]}),Object(g.jsxs)("div",{className:je.a.dateContainer,children:[Object(g.jsx)("h4",{className:je.a.date,children:"Redeem date:"}),Object(g.jsx)("h4",{children:r})]})]})]})},me=n(21),_e=n.n(me),pe=function(){var e=Object(c.useContext)(y),t=e.user,n=e.setShowHistory,a=Object(c.useState)(),r=Object(d.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)(),u=Object(d.a)(o,2),l=u[0],j=u[1];return Object(c.useEffect)((function(){le().then((function(e){return i(e)}))}),[t]),Object(c.useEffect)((function(){var e=void 0!==s?s.reverse():null;j((function(){return void 0!==s?e.map((function(e,t){return Object(g.jsx)(be,{url:e.img.hdUrl,name:e.name,category:e.category,price:e.cost,dateRedeem:e.createDate},t)})):Object(g.jsx)("div",{})}))}),[s]),Object(g.jsx)("div",{className:"".concat(_e.a.container," "),style:{height:window.innerHeight,width:window.innerWidth},children:Object(g.jsxs)("aside",{className:_e.a.aside,children:[Object(g.jsx)(I,{content:"X",variant:"close",className:_e.a.close,onClick:function(){return n(!1)}}),Object(g.jsx)("div",{className:_e.a.products,children:l})]})})},he=function(){var e=Object(c.useContext)(y),t=e.products,n=e.setCurrentPage,a=e.currentPage,r=e.setCurrentFilter,s=e.setProducts,i=e.currentFilter,o=e.showRedeemMessage,u=e.showHistory,d=function(e,t,n){if(!0===n&&"name"===t){var c=e.sort((function(e,n){return e[t].toUpperCase()<n[t].toUpperCase()?-1:e[t]>n[t]?1:0}));s(c)}else if(!1===n){var a=e.sort((function(e,n){return e[t]>n[t]?-1:e[t]<n[t]?1:0}));s(a)}else if(!0===n&&"name"!==t){var r=e.sort((function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0}));s(r)}};return Object(g.jsxs)("main",{children:[o?Object(g.jsx)(ue,{}):null,u?Object(g.jsx)(pe,{}):null,Object(g.jsxs)(X,{id:"main",className:"".concat(l.a.main," ").concat(u?l.a.stopScrolling:null),background:0===a?W:V,children:[Object(g.jsxs)("div",{className:l.a.container,children:[Object(g.jsxs)("div",{className:l.a.info,children:[Object(g.jsxs)("p",{className:l.a.amountProducts,children:[0===a?t.length<16?t.length:t.length>16?16:void 0:t.length," of"," ",t.length," products"]}),Object(g.jsx)("p",{className:l.a.text,children:"Sort by:"}),Object(g.jsx)(I,{content:"Name",variant:"primary",className:"".concat(l.a.button," ").concat(0===i?l.a.active:l.a.inactive),onClick:function(){return d(t,"name",!0)+r(0)}}),Object(g.jsx)(I,{content:"Lowest price",variant:"primary",className:"".concat(l.a.button," ").concat(1===i?l.a.active:l.a.inactive),onClick:function(){return d(t,"cost",!0)+r(1)}}),Object(g.jsx)(I,{content:"Highest price",variant:"primary",className:"".concat(l.a.button," ").concat(2===i?l.a.active:l.a.inactive),onClick:function(){return d(t,"cost",!1)+r(2)}})]}),Object(g.jsx)("div",{className:l.a.arrows,children:t.length>16?Object(g.jsx)(I,{variant:"secondary",content:0===a?">":"<",onClick:0===a?function(){return n(1)}:function(){return n(0)}}):null})]}),Object(g.jsx)(ae,{})]})]})},xe=function(){return Object(g.jsx)(i.a,{children:Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{exact:!0,path:"/proyecto4",children:Object(g.jsx)(he,{})}),Object(g.jsx)(o.a,{children:Object(g.jsx)("h1",{children:"Esta pagina no existe! Volve al home"})})]})})};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(N,{children:Object(g.jsx)(xe,{})})}),document.getElementById("root"))}],[[45,1,2]]]);
//# sourceMappingURL=main.fd861e9d.chunk.js.map